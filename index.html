<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style.css">
  <title>Diario El Faro</title>
</head>
<body>
  <header>
    <table>
      <td>
        <div class="logo-container">
          <a href="/">
            <img src="/assets/images/logo-noname.png" alt="El Faro. Iluminando con Información" width=150>
          </a>
        </div>
      </td>
      <td>
        <hgroup>
          <a href="/"><h1>El Faro</h1></a>
          <h2>Iluminando con Información</h2>
          <div id="fecha-hora" style="font-size:1.1rem; color:#555; margin-top:8px;"></div>
        </hgroup>
      </td>
      <td>
        <nav>
          <ul>
            <li><a href="/">Inicio</a></li>
            <li><a href="/noticias/deportes/">Deportes</a></li>
            <li><a href="/noticias/negocios/">Negocios</a></li>
          </ul>
        </nav>
      </td>
    </table>
  </header>

  <main>
    <div class="page-container">
      <section class="titulares">
        <h2>Titulares del día</h2>
        <div id="contador-articulos" style="font-size:1rem; color:#333; margin-bottom:10px;"></div>
        <table class="tabla-titulares" id="tabla-articulos">
          
        </table>
        <form id="form-articulo" style="margin-top:20px;">
          <h3>Agregar nuevo artículo</h3>
          <input type="text" id="titulo-articulo" placeholder="Título del artículo" required style="width:98%;margin-bottom:6px;"><br>
          <textarea id="desc-articulo" placeholder="Descripción del artículo" required style="width:98%;height:60px;margin-bottom:6px;"></textarea><br>
          <button type="submit">Agregar artículo</button>
        </form>
      </section>

      <section class="contacto" style="margin-top:40px;">
        <h2>Contacto</h2>
        <form id="form-contacto">
          <input type="text" id="nombre-contacto" placeholder="Tu nombre" required style="width:98%;margin-bottom:6px;"><br>
          <textarea id="mensaje-contacto" placeholder="Tu mensaje" required style="width:98%;height:60px;margin-bottom:6px;"></textarea><br>
          <button type="submit">Enviar mensaje</button>
        </form>
        <div id="mensaje-enviado" style="color:green;margin-top:8px;"></div>
      </section>
    </div>
  </main>

  <footer>
    <h1>El Faro, Iluminando con Información.</h1>
  </footer>

  <script>
    function actualizarFechaHora() {
      const ahora = new Date();
      const opciones = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const fecha = ahora.toLocaleDateString('es-CL', opciones);
      const hora = ahora.toLocaleTimeString('es-CL', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
      document.getElementById('fecha-hora').textContent = `${fecha} - ${hora}`;
    }
    setInterval(actualizarFechaHora, 1000);
    actualizarFechaHora();

    const articulos = [
      {
        titulo: "Conductora ebria cae al canal San Carlos en La Florida.",
        descripcion: "Bomberos rescató a una pareja que cayó con su auto al canal San Carlos en La Florida. La conductora, en estado de ebriedad y presuntamente aprendiendo a manejar, perdió el control en Mariano Sánchez Fontecilla con Las Tinajas.",
        imagen: "/assets/images/noticias/general/canal-san-carlos.png",
        enlace: "/noticias/general/conductora-ebria-cae-al-canal-san-carlos.html"
      },
      {
        titulo: "Don Francisco confirma regreso de \"Sábado Gigante\" a 10 años de su fin.",
        descripcion: "A exactos 10 años de su última emisión, el programa \"Sábado Gigantes\" se prepara para regresar a la pantalla con un nuevo formato.",
        imagen: "/assets/images/noticias/general/donfrancis.jpg",
        enlace: "/noticias/general/don-francisco-confirma-regreso-de-sabado-gigante.html"
      },
      {
        titulo: "Alerta por vientos de hasta 90 km/h para esta semana en Chile.",
        descripcion: "La Dirección Meteorológica de Chile entregó los principales detalles de las situaciones. Revisa aquí el pronóstico.",
        imagen: "/assets/images/noticias/general/alerta-por-vientos.webp",
        enlace: "/noticias/general/alerta-por-vientos.html"
      }
    ];

    function renderArticulos() {
      const tabla = document.getElementById('tabla-articulos');
      tabla.innerHTML = '';
      articulos.forEach(articulo => {
        const fila = document.createElement('tr');
        fila.innerHTML = `
          <td>
            <img src="${articulo.imagen}" height="150" alt="${articulo.titulo}">
          </td>
          <td class="contenido-titular">
            <h3>${articulo.titulo}</h3>
            <p>
              ${articulo.descripcion}
              <a href="${articulo.enlace}">Leer más</a>
            </p>
          </td>
        `;
        tabla.appendChild(fila);
      });
      document.getElementById('contador-articulos').textContent = `Cantidad de artículos: ${articulos.length}`;
    }
    renderArticulos();

    document.getElementById('form-articulo').addEventListener('submit', function(e){
      e.preventDefault();
      const titulo = document.getElementById('titulo-articulo').value.trim();
      const desc = document.getElementById('desc-articulo').value.trim();
      if(titulo && desc){
        articulos.push({
          titulo: titulo,
          descripcion: desc,
          imagen: "https://www.pikpng.com/pngl/b/550-5506683_rethinking-icon-news-placeholder-clipart.png",
          enlace: "#"
        });
        renderArticulos();
        this.reset();
      }
    });

    // 3. Formulario de contacto
    document.getElementById('form-contacto').addEventListener('submit', function(e){
      e.preventDefault();
      const nombre = document.getElementById('nombre-contacto').value.trim();
      const mensaje = document.getElementById('mensaje-contacto').value.trim();
      if(nombre && mensaje){
        document.getElementById('mensaje-enviado').textContent = `¡Gracias ${nombre}, tu mensaje fue enviado!`;
        this.reset();
        setTimeout(()=>{document.getElementById('mensaje-enviado').textContent='';}, 4000);
      }
    });
  </script>
</body>
</html>